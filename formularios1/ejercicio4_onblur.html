<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
   <style>
       form{
            display: flex;
            flex-direction: column;
            width: 200px;
        }
   </style>


<script>
    window.onload = inicio;
    function inicio(){
        document.formulario.elements[0].focus();
        var elementos = document.formulario.elements;
        for(var i =0; i<elementos.length; i++){
            elementos[i].addEventListener("blur",compruebaVacios);
            elementos[i].addEventListener("keypress",focusSiguiente);
            document.formulario.addEventListener("submit",permitirEnvio);
            document.getElementById("reset").addEventListener("click",limpia);
        }
       
    }
    function compruebaVacios(event){
        var elementos = document.formulario.elements;
        for(var i =0; i<elementos.length; i++){
            if(this === elementos[i] && this.type=="text" && this.value==""){
                for(var j=0; j<=i;j++){
                    if(elementos[j].value==""){
                    elementos[j].style.backgroundColor="red";
                    }
                }
            }
        }
    }
    function focusSiguiente(e){
        var elementos = document.formulario.elements;
        if(e.key=="Enter"){
            e.preventDefault();
            for(var i =0; i<elementos.length;i++){
                if(this==elementos[i]&& this.type=="text"){
                    elementos[i+1].focus();
                }
            }
        }
    }
    function permitirEnvio(e){
        e.preventDefault();
        var elementos = document.formulario.elements;
        var vacio =false;
        for(var i =0; i<elementos.length;i++){
            if(elementos[i].value=="" && elementos[i].type =="text"){
                vacio =true;
            }
        }   
        if(vacio=true){
            alert("Rellena todos los campos");
        }else{
            document.formulario.submit();
}
        }

        function limpia(e){
            e.preventDefault();
            var elementos = document.formulario.elements;
            for(var i =0; i<elementos.length;i++){
                if(elementos[i].type=="text"){
                elementos[i].style.backgroundColor="transparent";
                elementos[i].value="";
                }
            }

        }

</script>
</head>

<body>
    <form action="" name="formulario">
        <label for="">Nombre</label>
        <input type="text" name="nombre">
        <label for="">Apellido</label>
        <input type="text" name="apellido">
        <label for="">Direccion</label>
        <input type="text" name="direccion">
        <label for="">Poblacion</label>
        <input type="text" name="poblacion">
        <label for="">Codigo Postal</label>
        <input type="text" name="cp">
        <label for="">Provincia</label>
        <input type="text" name="provincia">
        <input type="submit" id="btnenviar">
        <input type="reset" id="reset">
    </form>

</body>
</html>
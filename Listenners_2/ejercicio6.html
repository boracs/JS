<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

<script>
    window.onload=inicio;
    function inicio(){
        var btn = document.createElement("button");
        btn.textContent = "pulsame";
        btn.addEventListener("click",abreVentana);
        document.body.appendChild(btn);

    }

var ventanaNueva;
var temporizador;
function abreVentana(){
    ventanaNueva = window.open("","ventana1","width=300,height=400");
    ventanaNueva.addEventListener("mousemove",restaura);
     temporizador  = setTimeout(cierraVentana,5000);
    


}
function cierraVentana(){
    ventanaNueva.close();
}

function restaura(){
    clearTimeout(temporizador);
    temporizador  = setTimeout(cierraVentana,5000);
}



</script>




</head>
<body>
    
</body>
</html>